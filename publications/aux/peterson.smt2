; Peterson's algorithm for two threads, over sequential consistency
; generated by Theta
; https://github.com/ftsrg/theta/

(set-logic HORN)

; declarations
(declare-fun init_0 ((Array Int Int) (Array Int Int) (Array Int Int) (Array Int Int) Int) Bool)
(declare-fun T0_1 ((Array Int Int) (Array Int Int) (Array Int Int) (Array Int Int) Int Int Int Int Int) Bool)
(declare-fun T0_gate_4 ((Array Int Int) (Array Int Int) (Array Int Int) (Array Int Int) Int Int Int Int Int) Bool)
(declare-fun T0_critical_5 ((Array Int Int) (Array Int Int) (Array Int Int) (Array Int Int) Int Int Int Int Int) Bool)
(declare-fun T0_critical_final_6 ((Array Int Int) (Array Int Int) (Array Int Int) (Array Int Int) Int Int Int Int Int) Bool)
(declare-fun T0_final_3 ((Array Int Int) (Array Int Int) (Array Int Int) (Array Int Int) Int Int Int Int Int) Bool)
(declare-fun T1_7 ((Array Int Int) (Array Int Int) (Array Int Int) (Array Int Int) Int Int Int Int Int) Bool)
(declare-fun T1_gate_9 ((Array Int Int) (Array Int Int) (Array Int Int) (Array Int Int) Int Int Int Int Int) Bool)
(declare-fun T1_critical_10 ((Array Int Int) (Array Int Int) (Array Int Int) (Array Int Int) Int Int Int Int Int) Bool)
(declare-fun T1_critical_final_11 ((Array Int Int) (Array Int Int) (Array Int Int) (Array Int Int) Int Int Int Int Int) Bool)
(declare-fun T1_final_8 ((Array Int Int) (Array Int Int) (Array Int Int) (Array Int Int) Int Int Int Int Int) Bool)
(declare-fun W_2 ((Array Int Int) (Array Int Int) (Array Int Int) (Array Int Int) Int Int Int) Bool)

; facts, rules, queries
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int)) (=> (and (and (= P15 0) (= (select P11 0) 0)) (= (select P13 0) 0)) (init_0 P9 P11 P12 P13 P15))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int) (P17 Int)) (=> (and (init_0 P9 P11 P12 P13 P17) (= P15 1)) (T0_1 P9 P11 P12 P13 P15 P30 P31 P32 P33))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P17 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int) (P15 Int) (P18 Int) (P0 Int)) (=> (and (and (and (W_2 P9 P11 P12 P13 P15 P18 P0) (T0_final_3 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= (+ P15 2) P17)) (< (select P13 P15) (select P13 P17))) (T0_1 P9 P11 P12 P13 P17 P30 P31 P32 P33))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P17 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int) (P15 Int) (P18 Int) (P0 Int)) (=> (and (and (and (W_2 P9 P11 P12 P13 P15 P18 P0) (T0_1 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= (+ P15 2) P17)) (< (select P13 P15) (select P13 P17))) (T0_gate_4 P9 P11 P12 P13 P17 P30 P31 P32 P33))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P17 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int) (P20 Int) (P19 Int) (P1 Int) (P21 Int) (P2 Int) (P15 Int) (P28 Int) (P22 Int) (P24 Int) (P23 Int) (P3 Int) (P29 Int) (P25 Int) (P27 Int) (P26 Int) (P4 Int) (P50 Int) (P18 Int) (P0 Int) (P40 Int) (P42 Int) (P43 Int)) (=> (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (W_2 P9 P11 P12 P13 P20 P19 P1) (W_2 P9 P11 P12 P13 P21 P19 P2)) (= (+ P15 2) P28)) (= P19 2)) (= (select P12 P20) P28)) (< (select P13 P20) (select P13 P28))) (< (select P13 P28) (select P13 P21))) (= (+ (select P11 P20) 1) (select P11 P21))) (= P1 P32)) (W_2 P9 P11 P12 P13 P22 P24 P2)) (W_2 P9 P11 P12 P13 P23 P24 P3)) (= (+ P15 4) P29)) (= P24 0)) (= (select P12 P29) P22)) (< (select P13 P22) (select P13 P29))) (< (select P13 P29) (select P13 P23))) (= (+ (select P11 P22) 1) (select P11 P23))) (= P2 P30)) (or (= P30 0) (= P32 0))) (W_2 P9 P11 P12 P13 P25 P27 P3)) (W_2 P9 P11 P12 P13 P26 P27 P4)) (= (+ P15 6) P50)) (= P27 3)) (= (select P12 P50) P25)) (< (select P13 P25) (select P13 P50))) (< (select P13 P50) (select P13 P26))) (= (+ (select P11 P25) 1) (select P11 P26))) (= P3 P33)) (W_2 P9 P11 P12 P13 P15 P18 P0)) (T0_gate_4 P9 P11 P12 P13 P15 P40 P31 P42 P43)) (= (+ P15 8) P17)) (< (select P13 P15) (select P13 P28))) (< (select P13 P28) (select P13 P29))) (< (select P13 P29) (select P13 P50))) (< (select P13 P50) (select P13 P17))) (T0_critical_5 P9 P11 P12 P13 P17 P30 P31 P32 P33))))
(assert (forall ((P33 Int) (P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P30 Int) (P31 Int) (P32 Int)) (=> (and (= P33 1) (T0_critical_5 P9 P11 P12 P13 P15 P30 P31 P32 P33)) false)))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P17 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int) (P15 Int) (P18 Int) (P0 Int)) (=> (and (and (and (W_2 P9 P11 P12 P13 P15 P18 P0) (T0_critical_5 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= (+ P15 2) P17)) (< (select P13 P15) (select P13 P17))) (T0_critical_final_6 P9 P11 P12 P13 P17 P30 P31 P32 P33))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P17 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int) (P15 Int) (P18 Int) (P0 Int)) (=> (and (and (and (W_2 P9 P11 P12 P13 P15 P18 P0) (T0_critical_final_6 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= (+ P15 2) P17)) (< (select P13 P15) (select P13 P17))) (T0_final_3 P9 P11 P12 P13 P17 P30 P31 P32 P33))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int) (P17 Int)) (=> (and (init_0 P9 P11 P12 P13 P17) (= P15 2)) (T1_7 P9 P11 P12 P13 P15 P30 P31 P32 P33))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int) (P18 Int) (P0 Int) (P17 Int)) (=> (and (and (and (W_2 P9 P11 P12 P13 P15 P18 P0) (T1_final_8 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= (+ P15 2) P17)) (< (select P13 P15) (select P13 P17))) (T1_7 P9 P11 P12 P13 P15 P30 P31 P32 P33))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P17 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int) (P15 Int) (P18 Int) (P0 Int)) (=> (and (and (and (W_2 P9 P11 P12 P13 P15 P18 P0) (T1_7 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= (+ P15 2) P17)) (< (select P13 P15) (select P13 P17))) (T1_gate_9 P9 P11 P12 P13 P17 P30 P31 P32 P33))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P17 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int) (P20 Int) (P19 Int) (P1 Int) (P21 Int) (P2 Int) (P15 Int) (P28 Int) (P22 Int) (P24 Int) (P23 Int) (P3 Int) (P29 Int) (P25 Int) (P27 Int) (P26 Int) (P4 Int) (P50 Int) (P18 Int) (P0 Int)) (=> (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (and (W_2 P9 P11 P12 P13 P20 P19 P1) (W_2 P9 P11 P12 P13 P21 P19 P2)) (= (+ P15 2) P28)) (= P19 1)) (= (select P12 P28) P20)) (< (select P13 P20) (select P13 P28))) (< (select P13 P28) (select P13 P21))) (= (+ (select P11 P20) 1) (select P11 P21))) (= P1 P31)) (W_2 P9 P11 P12 P13 P22 P24 P2)) (W_2 P9 P11 P12 P13 P23 P24 P3)) (= (+ P15 4) P29)) (= P24 0)) (= (select P12 P29) P22)) (< (select P13 P22) (select P13 P29))) (< (select P13 P29) (select P13 P23))) (= (+ (select P11 P22) 1) (select P11 P23))) (= P2 P30)) (or (= P30 1) (= P31 0))) (W_2 P9 P11 P12 P13 P25 P27 P3)) (W_2 P9 P11 P12 P13 P26 P27 P4)) (= (+ P15 6) P50)) (= P27 3)) (= (select P12 P50) P25)) (< (select P13 P25) (select P13 P50))) (< (select P13 P50) (select P13 P26))) (= (+ (select P11 P25) 1) (select P11 P26))) (= P3 P33)) (W_2 P9 P11 P12 P13 P15 P18 P0)) (T1_gate_9 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= (+ P15 8) P17)) (< (select P13 P15) (select P13 P28))) (< (select P13 P28) (select P13 P29))) (< (select P13 P29) (select P13 P50))) (< (select P13 P50) (select P13 P17))) (T1_critical_10 P9 P11 P12 P13 P17 P30 P31 P32 P33))))
(assert (forall ((P33 Int) (P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P30 Int) (P31 Int) (P32 Int)) (=> (and (= P33 1) (T1_critical_10 P9 P11 P12 P13 P15 P30 P31 P32 P33)) false)))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P17 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int) (P15 Int) (P18 Int) (P0 Int)) (=> (and (and (and (W_2 P9 P11 P12 P13 P15 P18 P0) (T1_critical_10 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= (+ P15 2) P17)) (< (select P13 P15) (select P13 P17))) (T1_critical_final_11 P9 P11 P12 P13 P17 P30 P31 P32 P33))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P17 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int) (P15 Int) (P18 Int) (P0 Int)) (=> (and (and (and (W_2 P9 P11 P12 P13 P15 P18 P0) (T1_critical_final_11 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= (+ P15 2) P17)) (< (select P13 P15) (select P13 P17))) (T1_final_8 P9 P11 P12 P13 P17 P30 P31 P32 P33))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P18 Int) (P0 Int)) (=> (and (and (init_0 P9 P11 P12 P13 P15) (= P18 0)) (= P0 0)) (W_2 P9 P11 P12 P13 P15 P18 P0))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P18 Int) (P0 Int)) (=> (and (and (init_0 P9 P11 P12 P13 P15) (= P18 1)) (= P0 0)) (W_2 P9 P11 P12 P13 P15 P18 P0))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P18 Int) (P0 Int)) (=> (and (and (init_0 P9 P11 P12 P13 P15) (= P18 2)) (= P0 0)) (W_2 P9 P11 P12 P13 P15 P18 P0))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P18 Int) (P0 Int)) (=> (and (and (init_0 P9 P11 P12 P13 P15) (= P18 3)) (= P0 0)) (W_2 P9 P11 P12 P13 P15 P18 P0))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P18 Int) (P0 Int) (P17 Int) (P1 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int)) (=> (and (and (and (and (and (W_2 P9 P11 P12 P13 P17 P18 P1) (T0_1 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= P18 1)) (= P0 1)) (= (+ (select P11 P17) 1) (select P11 P15))) (< (select P13 P17) (select P13 P15))) (W_2 P9 P11 P12 P13 P15 P18 P0))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P18 Int) (P0 Int) (P17 Int) (P1 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int)) (=> (and (and (and (and (and (W_2 P9 P11 P12 P13 P17 P18 P1) (T1_7 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= P18 2)) (= P0 1)) (= (+ (select P11 P17) 1) (select P11 P15))) (< (select P13 P17) (select P13 P15))) (W_2 P9 P11 P12 P13 P15 P18 P0))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P18 Int) (P0 Int) (P17 Int) (P1 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int)) (=> (and (and (and (and (and (W_2 P9 P11 P12 P13 P17 P18 P1) (T0_gate_4 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= P18 0)) (= P0 0)) (= (+ (select P11 P17) 1) (select P11 P15))) (< (select P13 P17) (select P13 P15))) (W_2 P9 P11 P12 P13 P15 P18 P0))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P18 Int) (P0 Int) (P17 Int) (P1 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int)) (=> (and (and (and (and (and (W_2 P9 P11 P12 P13 P17 P18 P1) (T1_gate_9 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= P18 0)) (= P0 1)) (= (+ (select P11 P17) 1) (select P11 P15))) (< (select P13 P17) (select P13 P15))) (W_2 P9 P11 P12 P13 P15 P18 P0))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P18 Int) (P0 Int) (P17 Int) (P1 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int)) (=> (and (and (and (and (and (W_2 P9 P11 P12 P13 P17 P18 P1) (T0_critical_5 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= P18 3)) (= P0 (+ P33 1))) (= (+ (select P11 P17) 1) (select P11 P15))) (< (select P13 P17) (select P13 P15))) (W_2 P9 P11 P12 P13 P15 P18 P0))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P18 Int) (P0 Int) (P17 Int) (P1 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int)) (=> (and (and (and (and (and (W_2 P9 P11 P12 P13 P17 P18 P1) (T1_critical_10 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= P18 3)) (= P0 (+ P33 1))) (= (+ (select P11 P17) 1) (select P11 P15))) (< (select P13 P17) (select P13 P15))) (W_2 P9 P11 P12 P13 P15 P18 P0))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P18 Int) (P0 Int) (P17 Int) (P1 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int)) (=> (and (and (and (and (and (W_2 P9 P11 P12 P13 P17 P18 P1) (T0_critical_final_6 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= P18 3)) (= P0 0)) (= (+ (select P11 P17) 1) (select P11 P15))) (< (select P13 P17) (select P13 P15))) (W_2 P9 P11 P12 P13 P15 P18 P0))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P18 Int) (P0 Int) (P17 Int) (P1 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int)) (=> (and (and (and (and (and (W_2 P9 P11 P12 P13 P17 P18 P1) (T1_critical_final_11 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= P18 3)) (= P0 0)) (= (+ (select P11 P17) 1) (select P11 P15))) (< (select P13 P17) (select P13 P15))) (W_2 P9 P11 P12 P13 P15 P18 P0))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P18 Int) (P0 Int) (P17 Int) (P1 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int)) (=> (and (and (and (and (and (W_2 P9 P11 P12 P13 P17 P18 P1) (T0_final_3 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= P18 1)) (= P0 0)) (= (+ (select P11 P17) 1) (select P11 P15))) (< (select P13 P17) (select P13 P15))) (W_2 P9 P11 P12 P13 P15 P18 P0))))
(assert (forall ((P9 (Array Int Int)) (P11 (Array Int Int)) (P12 (Array Int Int)) (P13 (Array Int Int)) (P15 Int) (P18 Int) (P0 Int) (P17 Int) (P1 Int) (P30 Int) (P31 Int) (P32 Int) (P33 Int)) (=> (and (and (and (and (and (W_2 P9 P11 P12 P13 P17 P18 P1) (T1_final_8 P9 P11 P12 P13 P15 P30 P31 P32 P33)) (= P18 2)) (= P0 0)) (= (+ (select P11 P17) 1) (select P11 P15))) (< (select P13 P17) (select P13 P15))) (W_2 P9 P11 P12 P13 P15 P18 P0))))

(check-sat)
(get-model)
